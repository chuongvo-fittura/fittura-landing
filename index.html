<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="favicon.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FITTURA+</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #ff3cac 0%, #784ba0 50%, #2b86c5 100%);
      color: white;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem 3rem;
    }

    header img {
      height: 200px;
      max-width: 480px;
    }

    @media (max-width: 600px) {
      header img {
        height: 200px;
        max-width: 480px;
      }
      header {
        padding: 2rem 0;
      }
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }

    p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      max-width: 600px;
      line-height: 1.6;
    }

    .cta-button {
      background-color: white;
      color: #333;
      padding: 0.9rem 2rem;
      border-radius: 999px;
      text-decoration: none;
      font-weight: 600;
      transition: 0.3s ease;
    }

    .cta-button:hover {
      background-color: #f0f0f0;
      transform: scale(1.05);
    }

    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.95rem;
      opacity: 0.9;
    }

    footer a {
      color: white;
      text-decoration: underline;
    }

    @media (max-width: 600px) {
      h1 { font-size: 2rem; }
      p { font-size: 1rem; }
    }

    form {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      margin-top: 1.5rem;
    }

    @media (min-width: 600px) {
      form {
        flex-direction: row;
        gap: 10px;
      }
    }

    input[type="email"] {
      padding: 0.9rem 1.2rem;
      border-radius: 999px;
      border: none;
      width: 250px;
    }

    input[type="email"]:focus {
      outline: none;
    }

    #waitlist-count {
      margin-top: 1rem;
      font-size: 1rem;
      opacity: 0;
      transition: opacity 1.2s ease-in;
    }

    #waitlist-count.visible {
      opacity: 1;
    }
  </style>
</head>
<body>
  <header>
    <img src="Fittura_logo_2.png" alt="FITTURA+ Logo" />
  </header>

  <main>
    <h1>AI Stylist That Helps You Find Clothes That Truly Fit</h1>
    <p>Discover outfits that match your body, taste, and lifestyle â€” powered by AI. Launching Early 2026.</p>

    <form id="waitlist-form">
      <input 
        type="email" 
        id="email" 
        name="email" 
        placeholder="Enter your email" 
        required
      >
      <button type="submit" class="cta-button">Join Waitlist</button>
    </form>

    <p id="success-msg" style="display:none; margin-top: 1rem; font-weight: 500;">ðŸŽ‰ Thanks! Youâ€™re on the list.</p>
    <p id="waitlist-count"></p>
  </main>

  <footer>
    <p>Contact us: <a href="mailto:hello@fittura.ai">hello@fittura.ai</a></p>
  </footer>

  <script>
    const scriptURL = "https://script.google.com/a/macros/fittura.ai/s/AKfycbwsc3jmTNvRDGHh3FC0oVq8MMNV9yTEPvVIFFFDPtB7gDINePpezU0YOMMlWjhXPt2r/exec";
    const form = document.getElementById("waitlist-form");
    const successMsg = document.getElementById("success-msg");
    const countEl = document.getElementById("waitlist-count");

    form.addEventListener("submit", e => {
      e.preventDefault();
      const email = document.getElementById("email").value;

      fetch(scriptURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email })
      })
        .then(async response => {
          const text = await response.text();
          let result;
          try { result = JSON.parse(text); } catch { result = { status: "success" }; }

          if (result.status === "success") {
            successMsg.style.display = "block";
            form.reset();
            updateWaitlistCount(); // refresh count after join
          } else {
            alert("Error: " + (result.message || "Unexpected response"));
          }
        })
        .catch(error => console.error("Error!", error.message));
    });

    // Fetch and show waitlist count
    function updateWaitlistCount() {
      fetch(scriptURL)
        .then(res => res.json())
        .then(data => {
          if (data.count) {
            countEl.textContent = `ðŸ”¥ ${data.count.toLocaleString()} people already joined the waitlist!`;
            countEl.classList.add("visible");
          }
        })
        .catch(err => console.error("Error loading count:", err));
    }

    updateWaitlistCount();
  </script>
</body>
</html>
